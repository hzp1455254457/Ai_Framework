# API变更日志

## 📋 文档说明

本文档记录AI框架项目API接口的所有变更历史，包括新增、修改、删除的接口。

**更新规则**：
- 任何API变更必须记录到本文档
- 破坏性变更必须标记并说明迁移指南
- 必须记录变更日期和变更原因

---

## 📊 变更类型说明

### 变更类型标记

- **Added** 🆕：新增接口
- **Changed** 🔄：修改现有接口（非破坏性）
- **Deprecated** ⚠️：标记为废弃，将在未来版本移除
- **Removed** ❌：移除接口（破坏性变更）
- **Fixed** 🐛：修复接口Bug
- **Security** 🔒：安全相关的变更

---

## 📅 变更历史

### [未发布] - 待定

#### Added 🆕
- 暂无（项目尚未发布）

#### Changed 🔄
- 暂无

#### Deprecated ⚠️
- 暂无

#### Removed ❌
- 暂无

#### Fixed 🐛
- 暂无

#### Security 🔒
- 暂无

---

## 🔄 版本规划

### v1.0.0（规划中）

#### 预计新增的API

**LLM服务API**：
- `POST /api/v1/llm/chat` - 发送聊天请求
- `POST /api/v1/llm/stream` - 流式聊天
- `POST /api/v1/llm/tokens` - 计算Token数量

**视觉服务API**：
- `POST /api/v1/vision/generate` - 生成图像
- `POST /api/v1/vision/analyze` - 分析图像
- `POST /api/v1/vision/edit` - 编辑图像

**音频服务API**：
- `POST /api/v1/audio/tts` - 文字转语音
- `POST /api/v1/audio/stt` - 语音转文字

**Agent服务API**：
- `POST /api/v1/agent/run` - 运行Agent任务
- `POST /api/v1/agent/status` - 查询任务状态

**系统API**：
- `GET /api/v1/health` - 健康检查
- `GET /api/v1/info` - 系统信息

---

## 🔒 安全变更

### 安全策略

- 所有API变更需要考虑安全性影响
- 涉及认证授权的变更需要特别标记
- 敏感信息的传输需要使用HTTPS

---

## 📚 迁移指南

### 如何迁移到新版本

当API发生破坏性变更时，本部分将提供详细的迁移指南。

目前尚无破坏性变更。

---

## 🔍 API版本策略

### 版本命名

- **主要版本**：破坏性变更
- **次要版本**：新功能，向后兼容
- **补丁版本**：Bug修复，向后兼容

### 版本路径

API版本通过URL路径标识：
- `/api/v1/...` - v1版本API
- `/api/v2/...` - v2版本API（未来）

### 版本兼容性

- 同一主要版本内保证向后兼容
- 新版本发布时，旧版本至少保留一个主要版本周期

---

## 📋 变更记录模板

### 新增API记录格式

```markdown
### [日期] - 接口名称

**路径**：`HTTP_METHOD /api/v1/path`

**变更类型**：Added 🆕

**描述**：
接口功能描述

**请求格式**：
```json
{
  "field": "value"
}
```

**响应格式**：
```json
{
  "result": "value"
}
```

**变更原因**：
为什么新增这个接口

**影响范围**：
影响哪些用户或模块
```

### 修改API记录格式

```markdown
### [日期] - 接口名称

**路径**：`HTTP_METHOD /api/v1/path`

**变更类型**：Changed 🔄 / Removed ❌

**变更内容**：
- 字段A从必填改为可选
- 字段B类型从string改为number
- 新增响应字段C

**迁移指南**：
如何迁移到新版本

**变更原因**：
为什么进行这个变更

**影响范围**：
影响哪些用户或模块
```

---

## 📚 相关文档

- [API参考文档](api-reference.md)
- [OpenAPI规范](openapi.yaml)
- [架构方案文档](../../AI框架架构方案文档.md)
- [CHANGELOG](../../CHANGELOG.md)

---

## 🔄 文档更新记录

| 日期 | 版本 | 更新内容 | 更新人 |
|------|------|---------|--------|
| 2026-01-21 | v1.0 | 初始版本，创建API变更日志框架 | - |

---

## ⚠️ 重要提示

1. **及时记录**：API变更后立即记录到本文档
2. **详细说明**：记录变更原因和影响范围
3. **提供迁移指南**：破坏性变更必须提供迁移指南
4. **版本同步**：API版本变更必须与项目版本同步
